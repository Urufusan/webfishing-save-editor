<script lang="ts">
  import { items } from "../game/things";
  import type { WebfishingSave } from "../game/types";
  import JournalItem from "./JournalItem.svelte";

  export let save: WebfishingSave;
  export let sectionName: string;

  let typedSectionName = sectionName as keyof WebfishingSave["value"]["journal"]["value"];
  let section = save.value.journal.value[typedSectionName];

  const keys = Object.keys(section.value).filter((key) => !key.startsWith("_") && items[key] != null);
</script>

<div data-section={sectionName} class="hidden grid-cols-4 gap-4">
  {#each keys as key}
    <JournalItem id={key} item={section.value[key].value} />
  {/each}
</div>
